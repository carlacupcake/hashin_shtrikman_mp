<!DOCTYPE html>
<html lang="en" data-bs-theme="light">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta name="description" content="Documentation for the hashin-shtrikman-mp package">
        
        
        <link rel="shortcut icon" href="img/favicon.ico">
        <title>hashin_shtrikman_mp</title>
        <link href="css/bootstrap.min.css" rel="stylesheet">
        <link href="css/fontawesome.min.css" rel="stylesheet">
        <link href="css/brands.min.css" rel="stylesheet">
        <link href="css/solid.min.css" rel="stylesheet">
        <link href="css/v4-font-face.min.css" rel="stylesheet">
        <link href="css/base.css" rel="stylesheet">
        <link id="hljs-light" rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" >
        <link id="hljs-dark" rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github-dark.min.css" disabled>
        <link href="assets/_mkdocstrings.css" rel="stylesheet">
        <link href="stylesheets/extra.css" rel="stylesheet">
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/yaml.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/python.min.js"></script>
        <script>hljs.highlightAll();</script> 
    </head>

    <body class="homepage">
        <div class="navbar fixed-top navbar-expand-lg navbar-dark bg-primary">
            <div class="container">
                <a class="navbar-brand" href=".">hashin_shtrikman_mp</a>
                <!-- Expander button -->
                <button type="button" class="navbar-toggler" data-bs-toggle="collapse" data-bs-target="#navbar-collapse" aria-controls="navbar-collapse" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>

                <!-- Expanded navigation -->
                <div id="navbar-collapse" class="navbar-collapse collapse">
                        <!-- Main navigation -->
                        <ul class="nav navbar-nav">
                            <li class="nav-item">
                                <a href="." class="nav-link active" aria-current="page">Home</a>
                            </li>
                            <li class="nav-item dropdown">
                                <a href="#" class="nav-link dropdown-toggle" role="button" data-bs-toggle="dropdown"  aria-expanded="false">Examples</a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="examples/example_n%3D3/" class="dropdown-item">3-phase Composite Example</a>
</li>
                                    
<li>
    <a href="examples/example_plotting/" class="dropdown-item">Example Visualizations for 2-, 3-, and 4-phase Composites</a>
</li>
                                </ul>
                            </li>
                            <li class="nav-item dropdown">
                                <a href="#" class="nav-link dropdown-toggle" role="button" data-bs-toggle="dropdown"  aria-expanded="false">Documentation</a>
                                <ul class="dropdown-menu">
                                    
  <li class="dropdown-submenu">
    <a href="#" class="dropdown-item">Genetic Algorithm</a>
    <ul class="dropdown-menu">
            
<li>
    <a href="reference/core/genetic_algorithm/genetic_algorithm_parameters/" class="dropdown-item">GeneticAlgorithmParams</a>
</li>
            
<li>
    <a href="reference/core/genetic_algorithm/genetic_algorithm_result/" class="dropdown-item">GeneticAlgorithmResult</a>
</li>
            
<li>
    <a href="reference/core/genetic_algorithm/genetic_algorithm/" class="dropdown-item">GeneticAlgorithm</a>
</li>
            
<li>
    <a href="reference/core/genetic_algorithm/member/" class="dropdown-item">Member</a>
</li>
            
<li>
    <a href="reference/core/genetic_algorithm/optimization_params/" class="dropdown-item">OptimizationParams</a>
</li>
            
<li>
    <a href="reference/core/genetic_algorithm/population/" class="dropdown-item">Population</a>
</li>
    </ul>
  </li>
                                    
  <li class="dropdown-submenu">
    <a href="#" class="dropdown-item">User Input</a>
    <ul class="dropdown-menu">
            
<li>
    <a href="reference/core/user_input/aggregate/" class="dropdown-item">Aggregate</a>
</li>
            
<li>
    <a href="reference/core/user_input/material_property/" class="dropdown-item">MaterialProperty</a>
</li>
            
<li>
    <a href="reference/core/user_input/material/" class="dropdown-item">Material</a>
</li>
            
<li>
    <a href="reference/core/user_input/mixture_property/" class="dropdown-item">MixtureProperty</a>
</li>
            
<li>
    <a href="reference/core/user_input/mixture/" class="dropdown-item">Mixture</a>
</li>
            
<li>
    <a href="reference/core/user_input/user_input/" class="dropdown-item">UserInput</a>
</li>
    </ul>
  </li>
                                    
  <li class="dropdown-submenu">
    <a href="#" class="dropdown-item">Visualization</a>
    <ul class="dropdown-menu">
            
<li>
    <a href="reference/core/visualization/composite_property_plotter/" class="dropdown-item">CompositePropertyPlotter</a>
</li>
            
<li>
    <a href="reference/core/visualization/optimization_result_visualizer/" class="dropdown-item">OptimizationResultVisualizer</a>
</li>
    </ul>
  </li>
                                    
<li>
    <a href="reference/core/match_finder/" class="dropdown-item">MatchFinder</a>
</li>
                                </ul>
                            </li>
                        </ul>

                    <ul class="nav navbar-nav ms-md-auto">
                        <li class="nav-item">
                            <a href="#" class="nav-link" data-bs-toggle="modal" data-bs-target="#mkdocs_search_modal">
                                <i class="fa fa-search"></i> Search
                            </a>
                        </li>
                            <li class="nav-item">
                                <a rel="prev" class="nav-link disabled">
                                    <i class="fa fa-arrow-left"></i> Previous
                                </a>
                            </li>
                            <li class="nav-item">
                                <a rel="next" href="examples/example_n%3D3/" class="nav-link">
                                    Next <i class="fa fa-arrow-right"></i>
                                </a>
                            </li>
                            <li class="nav-item">
                                <a href="https://github.com/carlacupcake/hashin_shtrikman_mp/edit/master/docs/index.md" class="nav-link">Edit on Github
                                    </a>
                            </li>
                            <li class="nav-item dropdown">
                              <button id="theme-menu" aria-expanded="false" data-bs-toggle="dropdown" data-bs-display="static" aria-label="Toggle theme" class="nav-link dropdown-toggle">
                                <i class="fa-solid fa-circle-half-stroke fa-fw"></i>
                                <span class="d-lg-none ms-2">Toggle theme</span>
                              </button>
                              <ul class="dropdown-menu dropdown-menu-end">
                                <li>
                                  <button class="dropdown-item d-flex align-items-center" data-bs-theme-value="light" aria-pressed="true">
                                    <i class="fa-solid fa-sun fa-fw"></i>
                                    <span class="ms-2">Light</span>
                                    <i class="fa-solid fa-check ms-auto"></i>
                                  </button>
                                </li>
                                <li>
                                  <button class="dropdown-item d-flex align-items-center" data-bs-theme-value="dark" aria-pressed="false">
                                    <i class="fa-solid fa-moon fa-fw"></i>
                                    <span class="ms-2">Dark</span>
                                    <i class="fa-solid fa-check ms-auto d-none"></i>
                                  </button>
                                </li>
                                <li>
                                  <button class="dropdown-item d-flex align-items-center" data-bs-theme-value="auto" aria-pressed="false">
                                    <i class="fa-solid fa-circle-half-stroke fa-fw"></i>
                                    <span class="ms-2">Auto</span>
                                    <i class="fa-solid fa-check ms-auto d-none"></i>
                                  </button>
                                </li>
                              </ul>
                            </li>
                    </ul>
                </div>
            </div>
        </div>
        <script src="js/darkmode.js"></script>

        <div class="container">
            <div class="row">
                    <div class="col-md-3"><div class="navbar-expand-md bs-sidebar hidden-print affix" role="complementary">
    <div class="navbar-header">
        <button type="button" class="navbar-toggler collapsed" data-bs-toggle="collapse" data-bs-target="#toc-collapse" title="Table of Contents">
            <span class="fa fa-angle-down"></span>
        </button>
    </div>

    
    <div id="toc-collapse" class="navbar-collapse collapse card bg-body-tertiary">
        <ul class="nav flex-column">
            
            <li class="nav-item" data-bs-level="1"><a href="#hashin_shtrikman_mp" class="nav-link">hashin_shtrikman_mp</a>
              <ul class="nav flex-column">
            <li class="nav-item" data-bs-level="2"><a href="#overview" class="nav-link">Overview</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#getting-started" class="nav-link">Getting Started</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#workflow" class="nav-link">Workflow</a>
              <ul class="nav flex-column">
              </ul>
            </li>
              </ul>
            </li>
        </ul>
    </div>
</div></div>
                    <div class="col-md-9" role="main">

<h1 id="hashin_shtrikman_mp">hashin_shtrikman_mp</h1>
<h3 id="a-computational-tool-for-the-optimal-design-and-discovery-of-multi-phase-composite-materials">A Computational Tool for the Optimal Design and Discovery of Multi-phase Composite Materials</h3>
<hr />
<h2 id="overview">Overview</h2>
<p>Composites are ubiquitous in engineering, as they often exhibit enhanced material properties as compared to their individual constituents. This library is intended to be a tool for materials designers who want to explore a new space of materials without incurring huge capital cost.</p>
<p>The <code>hashin_shtrikman_mp</code> library utilizes the tightest theoretical bounds on the effective properties of composite materials with unspecified microstructure – the Hashin-Shtrikman bounds – to identify candidate theoretical materials, find real materials that are close to the candidates, and determine the optimal volume fractions for each of the constituents in the resulting composite.</p>
<p>A genetic algorithm is used to optimize over the user-specified design space. The algorithm simultaneously minimizes absolute error from the desired composite properties and optimally distributes loads across constituent phases. Once the genetic algorithm has returned theoretical candidate materials, <code>hashin_shtrikman_mp</code> searches for real materials in the <a href="https://next-gen.materialsproject.org/">Materials Project</a> database with properties close to those suggested by the genetic algorithm.</p>
<p>The library has been designed to handle 2- to 10-phase composite design.</p>
<hr />
<h2 id="getting-started">Getting Started</h2>
<h3 id="installation">Installation</h3>
<p><code>hashin_shtrikan_mp</code> can be installed from <a href="https://pypi.org/project/hashin_shtrikman_mp/">PyPi source</a> by running:</p>
<pre><code>pip install hashin_shtrikman_mp
</code></pre>
<p>It can also be installed by cloning <a href="https://github.com/carlacupcake/hashin_shtrikman_mp/tree/main">this repository</a>, then running in the root of the repository:</p>
<pre><code>pip install .
</code></pre>
<h3 id="examples">Examples</h3>
<p>Getting familiar with any codebase can be difficult and learning by example is often the most efficient. Toward this end, we have provided two example Jupyter notebooks: <br></p>
<ul>
<li><a href="examples/example_n%3D3/">3-phase Composite Example</a>: an example which explores searching for an optimal 3-phase composite with user-specified desired properties <br></li>
<li><a href="examples/example_plotting/">Phase Diagrams for 2-, 3-, and 4-phase Composites</a>: an example demonstrating the different phase diagram visualizations for 2-, 3-, and 4-phase composites</li>
</ul>
<h3 id="implementation-notes">Implementation Notes</h3>
<ul>
<li>Ensure you have valid credentials for the Materials Project API, which you can find by registering yourself with Materials Project – <a href="https://next-gen.materialsproject.org/">https://next-gen.materialsproject.org/</a>.</li>
<li>Optimization parameters (number of parents, children, etc.) should be chosen based on the complexity of the desired material properties and computational resources.</li>
<li>The genetic algorithm's efficiency and effectiveness can vary greatly based on the optimization parameters and the definition of the cost function. Using defaults is recommended.</li>
<li>Visualization of cost versus generation can provide insights into the convergence behavior of the genetic algorithm. Expect that the exact shape of the convergence plot will change every time the algorithm is run, due to the stochastic nature of the algorithm.</li>
<li>The library has been designed to handle the design of 2- to 10-phase <strong>isotropic</strong> and <strong>homogeneous</strong> composites.</li>
<li>It is recommended that users restrict the search bounds for universal anisotropy to be between 0.5 and 1.5 for results closer to
theory.</li>
</ul>
<h3 id="miscellaneous-features">Miscellaneous features</h3>
<p><strong>mpi4py support is added to append final_dict</strong></p>
<p>To take advantage of <code>mpi</code> parallelization, one can run the following:</p>
<pre><code>pip install mpi4py
</code></pre>
<p>In case installation via <code>pip</code> fails, you can use <code>brew</code> + <code>pip</code> instead:</p>
<pre><code>brew install mpi4py
pip install mpi4py
</code></pre>
<p>Then run:</p>
<pre><code>mpiexec -n 4 python tests/integration/test_optimization_flow.py
</code></pre>
<hr />
<h2 id="workflow">Workflow</h2>
<h3 id="user-input">User Input</h3>
<ul>
<li><strong>Collect User Input</strong> and instantiate a <code>UserInput</code> object with 1) the number of constituent materials desired in the composite, 2) the desired ultimate material properties and 3) upper and lower search bounds for the properties of each constituent material.</li>
</ul>
<h3 id="optimization">Optimization</h3>
<ul>
<li><strong>Instantiate an <code>Optimizer</code> Object</strong> with Materials Project API credentials and user input.</li>
<li><strong>(Optional) Set Optimization Parameters</strong>: The genetic algorithm optimization requires values for the number of parents, children, members in a generation, number of generations, and weights for absolute error and load distribution. It is recommended to use the default settings.</li>
<li><strong>Set Initial Population</strong>: In each generation of the genetic algorithm, instantiate a <code>Population</code> object with the optimization parameters defined in the previous step. Each member of the population represents a candidate set of materials and their respective volume fractions in the composite.</li>
<li><strong>Random Property Assignment</strong>: Randomly property values and volume fractions to each member of the population using <code>Population.set_random_values</code>. Random values are constrained by the bounds provided by the user and by the necessity that the volume fractions sum to unity.</li>
<li><strong>Evaluate Fitness</strong>: Evaluate each member according to a cost function which penalizes deviations from desired properties and which penalizes uneven distribution of load. Do this by creating an instance of <code>Member</code> for each member in <code>Population</code> and calling <code>Member.get_cost</code>. This concludes generation 1.</li>
<li><strong>Select Top Performers</strong>: Sort the members by cost. A lower cost corresponds to a stronger performer and a higher cost to a weak performer. Retain the top <code>num_parents</code> members and discard the rest.</li>
<li><strong>Breed and Produce Offspring</strong>: Pairwise mate the top <code>num_parents</code> members to produce <code>num_kids</code> new members. Once again using <code>Population.set_random_values</code>, augment the population with new, random members to maintain the population size at <code>num_members</code>.</li>
<li><strong>Evaluate Fitness of New Generation</strong>: Evaluate each member according by the same cost function. This concludes generation 2.</li>
<li><strong>Iterate Over Generations</strong>: Repeat the selection of top performers, breeding, and fitness evaluation process for <code>num_generations</code>.</li>
</ul>
<h3 id="visualization-and-match-finding">Visualization and Match Finding</h3>
<ul>
<li><strong>Obtain Convergence Plot</strong>: Observe the monotonic decrease of the lowest cost observed across the population as the generations pass.</li>
<li><strong>Recommend Theoretical Candidates</strong>: After the final generation, for each of the top composite candidates display a table of 1) material properties for each constituent phase, 2) volume fractions for each constituent phase, and 3) the cost of that theoretical candidate.</li>
<li><strong>Create a Material Properties Dictionary</strong> keyed by <code>mp_ids</code> and their corresponding material properties of interest, gathered using the MP-API. The dictionary will be comprised of real materials that closely resemble the theoretical materials recommended by the genetic algorithm.</li>
<li><strong>Create Populations of Real Composite Candidates</strong>: For each set of candidate constituent materials, create a population by varying only the volume fractions of the composite constituents.</li>
<li><strong>Find the Optimal Volume Fractions</strong> by evaluating the  population with the same cost function used previously.</li>
<li><strong>Display of Top-Performing Candidates</strong>: Repeat the process for all possible combinations of materials and display the top-performers along with their volume fractions.</li>
<li><strong>For 2-, 3-, and 4-phase Composites</strong> view the phase diagram for each property of interest and view how changing constituent volume fractions changes the effective composite property.</li>
</ul></div>
            </div>
        </div>

        <footer class="col-md-12">
            <hr>
                <p>Built by Carla Becker, Hrushikesh Sahasrabuddhe, and Max C. Gallant</p>
            <p>Documentation built with <a href="https://www.mkdocs.org/">MkDocs</a>.</p>
        </footer>
        <script src="js/bootstrap.bundle.min.js"></script>
        <script>
            var base_url = ".",
                shortcuts = {"help": 191, "next": 78, "previous": 80, "search": 83};
        </script>
        <script src="js/base.js"></script>
        <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/3.2.2/es5/tex-mml-chtml.js"></script>
        <script src="search/main.js"></script>

        <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="searchModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="searchModalLabel">Search</h4>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <p>From here you can search these documents. Enter your search terms below.</p>
                <form>
                    <div class="form-group">
                        <input type="search" class="form-control" placeholder="Search..." id="mkdocs-search-query" title="Type search term here">
                    </div>
                </form>
                <div id="mkdocs-search-results" data-no-results-text="No results found"></div>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div><div class="modal" id="mkdocs_keyboard_modal" tabindex="-1" role="dialog" aria-labelledby="keyboardModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="keyboardModalLabel">Keyboard Shortcuts</h4>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
              <table class="table">
                <thead>
                  <tr>
                    <th style="width: 20%;">Keys</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td class="help shortcut"><kbd>?</kbd></td>
                    <td>Open this help</td>
                  </tr>
                  <tr>
                    <td class="next shortcut"><kbd>n</kbd></td>
                    <td>Next page</td>
                  </tr>
                  <tr>
                    <td class="prev shortcut"><kbd>p</kbd></td>
                    <td>Previous page</td>
                  </tr>
                  <tr>
                    <td class="search shortcut"><kbd>s</kbd></td>
                    <td>Search</td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>

    </body>
</html>

<!--
MkDocs version : 1.6.1
Build Date UTC : 2025-07-16 04:19:35.393984+00:00
-->
